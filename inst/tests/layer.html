<html>
  <head>
    <script type="text/javascript" src="/home/gmbecker/gabe/checkedout/GabeResearch/Packages/RFirefox/inst/javascript/Rscripthandler.js"> </script>
    <script type="text/R">
      library(RFirefox)
      #library(SpiderMonkey)
      library(firepaint)
      
      canvEl = getElementById(ScriptCon, "canv")
      ctx = call_JS_Method(ScriptCon, canvEl, "getContext", list("2d"))
      
      painter = fPainter$new(canvas = canvEl, ctx = ctx)
      
      pfun = function(p)
      {
        #very primitive scatterplot
        p$drawLine(c(10, 10, 100), c(10, 100, 100))
        x = runif(1000, 10, 100)
        y = runif(1000, 10, 100)
        
      
        p$drawPoint(x,y)
      }
        
      
      l = fLayer$new( canvas = canvEl)
      l$paint = pfun
      l$paint(painter)
      


      

      </script>
  </head>
  <body>
    <canvas id="canv"></canvas>
  </body>
</html>

